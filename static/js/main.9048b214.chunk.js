(this["webpackJsonpcodizishop-app"]=this["webpackJsonpcodizishop-app"]||[]).push([[0],{48:function(e,t,c){},57:function(e,t,c){},60:function(e,t,c){},63:function(e,t,c){"use strict";c.r(t);var s=c(6),n=c.n(s),a=c(39),i=c.n(a),r=(c(48),c(13)),o=c(15),l=c(16),d=c(12),j=c(0),b=Object(s.createContext)(),m=function(e){var t=e.children,c=Object(s.useState)([]),n=Object(d.a)(c,2),a=n[0],i=n[1],r=Object(s.useState)(0),o=Object(d.a)(r,2),m=o[0],u=o[1];Object(s.useEffect)((function(){var e=a.reduce((function(e,t){return e+t.quantity}),0);u(e)}),[a]);return Object(j.jsx)(b.Provider,{value:{cart:a,addToCart:function(e,t){console.log(t);var c=a.find((function(t){return t.item.id===e.id}));if(c){console.log("item already in cart");var s=a.map((function(e){return e===c?{quantity:e.quantity+=t,item:e.item}:e}));(c.quantity+=t)>c.item.stock?(console.log("".concat(c.quantity+=t," > ").concat(c.item.stock)),console.log(a)):(console.log("yes"),i(s),console.log(a))}else{console.log("no item already in cart");var n={quantity:t,item:e};i([].concat(Object(l.a)(a),[n]))}},updateQuantityItem:function(e,t){var c=a.find((function(t){return t.item.id===e.id}));if(t>c.item.stock||t<0)i(a);else{var s=a.map((function(c){return c.item===e?{quantity:t,item:c.item}:c}));i(s)}},removeFromCart:function(e){i(a.filter((function(t){return t.item.id!==e.id})))},clearCart:function(){i([])},quantityItems:m,getTotal:function(){return a.reduce((function(e,t){return e+t.item.price*t.quantity}),0)}},children:t})},u=Object(s.createContext)(),O=function(e){var t=e.children,c=Object(s.useState)(),n=Object(d.a)(c,2),a=n[0],i=n[1];return Object(j.jsx)(u.Provider,{value:{userData:a,logIn:function(e){i(e)},logOut:function(){i(void 0)}},children:t})},x=c(9),h=c(43),p=["component","user"],f=function(e){var t=e.component,c=e.user,s=Object(h.a)(e,p);return Object(j.jsx)(o.b,Object(x.a)(Object(x.a)({},s),{},{render:function(e){return c?Object(j.jsx)(t,Object(x.a)({},e)):Object(j.jsx)(o.a,{to:"/"})}}))},v=function(){var e=Object(s.useContext)(b).quantityItems;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("i",{className:"fas fa-shopping-cart fa-lg"}),Object(j.jsxs)("span",{className:"mx-3",children:[e," productos"]})]})},N=function(){var e=Object(s.useContext)(u),t=e.userData,c=e.logOut;return Object(j.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(j.jsxs)("div",{className:"container-fluid",children:[Object(j.jsx)(r.c,{to:"/",className:"navbar-brand",children:Object(j.jsx)("img",{src:"https://shop.codiziapp.com/wp-content/uploads/2021/07/codizilogolarge.png",alt:"",width:"150",className:"img-fluid"})}),Object(j.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(j.jsx)("span",{className:"navbar-toggler-icon"})}),Object(j.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(j.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(r.c,{to:"/products/tshirts",className:"nav-link","aria-current":"page",children:"Playeras"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(r.c,{to:"/products/hoddies",className:"nav-link",children:"Hoddies"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(r.c,{to:"/products/stickers",className:"nav-link",children:"Stickers"})})]}),Object(j.jsx)("div",{className:"d-flex align-items-center",children:t?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(r.b,{to:"/cart",children:Object(j.jsx)(v,{})}),Object(j.jsx)("i",{className:"far fa-user-circle fa-2x"}),Object(j.jsx)("p",{className:"m-3",children:t.name}),Object(j.jsx)("button",{className:"btn btn-success",type:"button",onClick:function(){return c()},children:"Log Out"})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(r.b,{to:"/login",children:Object(j.jsx)("button",{className:"btn btn-outline-success",type:"submit",children:"Log In"})}),Object(j.jsx)("button",{className:"btn btn-success",type:"submit",children:"Register"})]})})]})]})})},g=function(){return Object(j.jsxs)("footer",{className:"row bg-dark text-white py-4",children:[Object(j.jsxs)("section",{className:"col-md-4 text-center",children:[Object(j.jsx)("img",{src:"https://shop.codiziapp.com/wp-content/uploads/2021/07/logocodizi_v2.png",className:"img-fluid mb-3",alt:"marca personal",width:"150"}),Object(j.jsxs)("p",{children:["Con ",Object(j.jsx)("span",{className:"text-danger",children:"\u2764"})," desde M\xe9xico"]})]}),Object(j.jsxs)("section",{className:"col-md-4",children:[Object(j.jsx)("h3",{children:"M\xe1s de CODIZI Shop"}),Object(j.jsx)("p",{children:Object(j.jsx)(r.b,{to:"/contact",children:"Contacto"})}),Object(j.jsx)("p",{children:Object(j.jsx)(r.b,{to:"/measurements",children:"Medidas de tallas"})}),Object(j.jsx)("p",{children:Object(j.jsx)(r.b,{to:"/termsandconditions",children:"T\xe9rminos y Condiciones"})}),Object(j.jsx)("p",{children:Object(j.jsx)(r.b,{to:"/changes",children:"Devoluciones o cambios"})}),Object(j.jsx)("p",{children:Object(j.jsx)(r.b,{to:"/privacity",children:"Pol\xedtica de privacidad"})}),Object(j.jsx)("p",{children:Object(j.jsx)(r.b,{to:"/faq",children:"Preguntas frecuentes"})})]}),Object(j.jsxs)("section",{className:"col-md-4",children:[Object(j.jsx)("h3",{children:"Conoce CODIZI"}),Object(j.jsx)("p",{children:Object(j.jsx)("a",{href:"https://codiziapp.com/aboutus",children:"Acerca de nosotros"})}),Object(j.jsx)("p",{children:Object(j.jsx)(r.b,{to:"/measurements",children:"Medidas de tallas"})}),Object(j.jsx)("p",{children:Object(j.jsx)(r.b,{to:"/termsandconditions",children:"T\xe9rminos y Condiciones"})}),Object(j.jsx)("p",{children:Object(j.jsx)(r.b,{to:"/changes",children:"Devoluciones o cambios"})}),Object(j.jsx)("p",{children:Object(j.jsx)(r.b,{to:"/privacity",children:"Pol\xedtica de privacidad"})}),Object(j.jsx)("p",{children:Object(j.jsx)(r.b,{to:"/faq",children:"Preguntas frecuentes"})})]})]})},y=function(e){var t=e.children;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(N,{}),t,Object(j.jsx)(g,{})]})},C=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"Not Found 404"})})},w=function(e){var t=e.item;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"col-md-4",children:Object(j.jsxs)("div",{className:"card mb-4 shadow-sm",children:[Object(j.jsx)("img",{src:t.pictureUrl,className:"card-img-top",alt:"..."}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title",children:t.title}),Object(j.jsx)("p",{className:"card-text",children:t.description}),Object(j.jsx)("p",{className:"card-text",children:t.price}),Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(j.jsx)(r.b,{to:"/products/".concat(t.category,"/").concat(t.id),children:Object(j.jsx)("button",{type:"button",className:"btn btn btn-outline-success",onClick:function(){return window.scroll(0,-100)},children:"Ver producto"})}),Object(j.jsxs)("small",{className:"text-muted",children:["Stock: ",t.stock," left"]})]})]})]})})})},k=(c(57),function(){return Object(j.jsxs)("div",{className:"container-spinner",children:[Object(j.jsxs)("div",{className:"center",children:[Object(j.jsx)("div",{className:"wave"}),Object(j.jsx)("div",{className:"wave"}),Object(j.jsx)("div",{className:"wave"}),Object(j.jsx)("div",{className:"wave"}),Object(j.jsx)("div",{className:"wave"}),Object(j.jsx)("div",{className:"wave"}),Object(j.jsx)("div",{className:"wave"}),Object(j.jsx)("div",{className:"wave"}),Object(j.jsx)("div",{className:"wave"}),Object(j.jsx)("div",{className:"wave"})]}),Object(j.jsx)("p",{children:"Loading ... "})]})}),I=c(42),S=c(24),q=I.a({apiKey:"AIzaSyDwOixgta3f0ss_RmMZHuzHmPn6GtHe_NE",authDomain:"codizishop.firebaseapp.com",projectId:"codizishop",storageBucket:"codizishop.appspot.com",messagingSenderId:"889303699321",appId:"1:889303699321:web:016e7dcc431b8d644169a8"}),F=Object(S.f)(q),D=c(22),E=function(e){var t=e.filter,c=Object(s.useState)(void 0),n=Object(d.a)(c,2),a=n[0],i=n[1];return Object(s.useEffect)((function(){return t?Object(D.f)(Object(D.h)(Object(D.c)(F,"items"),Object(D.i)("category","==",t))).then((function(e){var t=e.docs.map((function(e){return Object(x.a)({id:e.id},e.data())}));console.log(t),i(t)})).catch((function(e){return console.log("Error searching items",e)})).finally((function(){return console.log("Finally")})):Object(D.f)(Object(D.c)(F,"items")).then((function(e){var t=e.docs.map((function(e){return Object(x.a)({id:e.id},e.data())}));console.log(t),i(t)})).catch((function(e){return console.log("Error searching items",e)})).finally((function(){return console.log("Finally")})),function(){i(void 0)}}),[t]),void 0===a?Object(j.jsx)(k,{}):Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"row mt-4",children:a.map((function(e){return Object(j.jsx)(w,{item:e},e.id)}))})})},z=Object(s.memo)(E),P=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{src:"https://shop.codiziapp.com/wp-content/uploads/2021/09/COVER-CODIZISHOP.jpg",className:"img-fluid",alt:"cover-codizishop"}),Object(j.jsxs)("div",{className:"container mt-5",children:[Object(j.jsx)("h1",{className:"text-center",children:"LO M\xc1S VENDIDO"}),Object(j.jsx)(z,{})]})]})};var T=function(){var e=Object(o.h)().category;return Object(j.jsxs)("div",{className:"container text-center",children:[Object(j.jsx)("h2",{children:e}),Object(j.jsx)(z,{filter:e})]})},L=function(e){var t=e.id,c=Object(s.useContext)(b).addToCart,n=Object(s.useState)(),a=Object(d.a)(n,2),i=a[0],o=a[1],l=Object(s.useState)(0),m=Object(d.a)(l,2),u=m[0],O=m[1],h=Object(s.useState)(!1),p=Object(d.a)(h,2),f=p[0],v=p[1];if(Object(s.useEffect)((function(){return Object(D.e)(Object(D.d)(F,"items",t)).then((function(e){console.log(Object(x.a)({id:e.id},e.data()));var t=Object(x.a)({id:e.id},e.data());o(t)})).catch((function(e){return console.log("Error searching items",e)})).finally((function(){return console.log("Finally")})),function(){o(void 0)}}),[t]),void 0===i)return Object(j.jsx)(k,{});return Object(j.jsx)("div",{className:"card mb-4 shadow-sm",children:Object(j.jsxs)("div",{className:"row g-0",children:[Object(j.jsx)("div",{className:"col-md-4",children:Object(j.jsx)("img",{src:i.pictureUrl,className:"img-fluid rounded-start",alt:"..."})}),Object(j.jsx)("div",{className:"col-md-8 px-4",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsxs)("div",{className:"row my-3",children:[Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsx)("h2",{className:"card-title",children:i.title})}),Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsx)("p",{className:"card-text",children:i.price})})]}),Object(j.jsx)("p",{className:"card-text mb-3",children:i.description}),Object(j.jsxs)("div",{className:"d-flex my-5",children:[Object(j.jsx)("button",{className:i.stock?"btn btn-danger":"btn btn-secondary",onClick:function(){0!==u&&O(u-1)},children:"-"}),Object(j.jsxs)("p",{className:"mx-5",children:[" ",u," "]}),Object(j.jsx)("button",{className:i.stock?"btn btn-success":"btn btn-secondary",onClick:function(){return e=i.stock,void(u!==e&&O(u+1));var e},children:"+"})]}),Object(j.jsxs)("div",{className:"d-flex",children:[Object(j.jsx)("button",{className:"btn btn-outline-primary mt-3 ".concat(i.stock?"enabled":"disabled"),onClick:function(){!function(e,t){c(e,t),O(0),v(!0)}(i,u)},children:"A\xf1adir al carrito"}),Object(j.jsx)(r.b,{to:"/cart",children:Object(j.jsx)("button",{className:"btn btn-info mt-3 mx-3 ".concat(f?"d-block":"d-none"),children:"Ver tu carrito"})})]}),Object(j.jsxs)("p",{className:"text-muted text-center border border-secondary mt-5",children:["Stock: ",i.stock," left"]})]})})]})})},M=function(e){var t=e.setCartItems,c=Object(o.h)(),s=c.id,n=c.category;return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h1",{children:s}),Object(j.jsx)(L,{id:s,setCartItems:t}),Object(j.jsxs)("h2",{className:"text-center mt-5",children:["Ver m\xe1s ",n]}),Object(j.jsx)(z,{filter:n})]})},H=function(e){var t=e.quantity,c=e.item,s=e.removeFromCart,n=e.updateQuantityItem;return Object(j.jsx)("div",{className:"card mb-4 shadow-sm",children:Object(j.jsxs)("div",{className:"row align-items-center",children:[Object(j.jsx)("div",{className:"col-md-2",children:Object(j.jsx)("img",{src:c.pictureUrl,className:"card-img-top",alt:"..."})}),Object(j.jsx)("div",{className:"col-md-4",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title",children:c.title}),Object(j.jsx)("p",{className:"card-text",children:c.description}),Object(j.jsx)("p",{className:"card-text",children:c.price})]})}),Object(j.jsxs)("div",{className:"col-md-4",children:[Object(j.jsxs)("div",{className:"d-flex mb-3",children:[Object(j.jsx)("button",{className:c.stock?"btn btn-danger":"btn btn-secondary",onClick:function(){return n(c,t-1)},children:"-"}),Object(j.jsxs)("p",{className:"mx-5",children:[" ",t," "]}),Object(j.jsx)("button",{className:c.stock?"btn btn-success":"btn btn-secondary",onClick:function(){return n(c,t+1)},children:"+"})]}),Object(j.jsxs)("small",{className:"text-muted",children:["Stock: ",c.stock," left"]})]}),Object(j.jsx)("div",{className:"col-md-2",children:Object(j.jsx)("button",{className:"btn btn-danger",onClick:function(){return s(c)},children:Object(j.jsx)("i",{className:"far fa-trash-alt"})})})]})})},V=function(){var e=Object(s.useContext)(b),t=e.cart,c=e.removeFromCart,n=e.clearCart,a=e.updateQuantityItem,i=e.getTotal,r=Object(s.useContext)(u).userData,l=Object(o.g)();console.log(t);return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h1",{children:"Carrito"}),Object(j.jsx)("div",{className:"shadow-sm my-4",children:0===t.length?Object(j.jsx)("h3",{className:"my-5 py-5 center",children:"No hay productos en el carrito"}):t.map((function(e){return Object(j.jsx)(H,{item:e.item,removeFromCart:c,updateQuantityItem:a,quantity:e.quantity},e.item.id)}))}),Object(j.jsxs)("div",{className:"shadow-sm my-4 d-flex justify-content-between",children:[Object(j.jsx)("button",{className:"btn btn-info",type:"button",onClick:function(){return n()},children:"Limpiar carrito"}),Object(j.jsxs)("h4",{children:["Total = $ ",i()," MXN"]})]}),Object(j.jsx)("div",{className:"d-flex justify-content-end ",children:Object(j.jsx)("button",{className:"btn btn-success",type:"button",onClick:function(){return function(){var e={buyer:{email:r.email,name:r.name},items:t,date:S.a.fromDate(new Date),total:i()},c=Object(S.g)(F),s=[];e.items.forEach((function(t,n){Object(S.e)(Object(S.d)(F,"items",t.item.id)).then((function(t){t.data().stock>=e.items[n].quantity?c.update(Object(S.d)(F,"items",t.id),{stock:t.data().stock-e.items[n].quantity}):s.push(Object(x.a)(Object(x.a)({},t.data()),{},{id:t.id}))}))})),0===s.length&&Object(S.b)(Object(S.c)(F,"orders"),e).then((function(){c.commit().then((function(){console.log("success","La orden se ejecuto con exito"),l.push("/success")}))})).catch((function(e){console.log(e,"Error al ejecutar la orden")})).finally((function(){n()}))}()},children:"Completar la orden "})}),Object(j.jsx)("h2",{children:"Productos que te pueden interesar"}),Object(j.jsx)("div",{className:"row justify-content-center",children:Object(j.jsx)("div",{className:"col-md-10",children:Object(j.jsx)(z,{})})})]})},Q=c(10),R=(c(60),function(){var e=Object(s.useContext)(u).logIn,t=Object(o.g)(),c=Object(s.useState)({email:"",password:"",name:"David"}),n=Object(d.a)(c,2),a=n[0],i=n[1],r=function(e){i(Object(x.a)(Object(x.a)({},a),{},Object(Q.a)({},e.target.name,e.target.value)))};return Object(j.jsx)("div",{className:"container-fluid",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-6 d-none d-md-flex bg-image"}),Object(j.jsx)("div",{className:"col-md-6 bg-light",children:Object(j.jsx)("div",{className:"login d-flex align-items-center py-5",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-lg-10 col-xl-7 mx-auto",children:[Object(j.jsx)("h3",{className:"display-4",children:"Hola de nuevo!"}),Object(j.jsx)("p",{className:"text-muted mb-4",children:"Explora y comparte lugares extraordinarios."}),Object(j.jsxs)("form",{onSubmit:function(c){c.preventDefault(),e(a),t.push("/")},children:[Object(j.jsx)("div",{className:"form-group mb-3",children:Object(j.jsx)("input",{id:"inputEmail",name:"email",type:"email",placeholder:"Email address",required:!0,autoFocus:"",className:"form-control rounded-pill border-0 shadow-sm px-4",onChange:r})}),Object(j.jsx)("div",{className:"form-group mb-3",children:Object(j.jsx)("input",{id:"inputPassword",name:"password",type:"password",placeholder:"Password",required:!0,className:"form-control rounded-pill border-0 shadow-sm px-4 text-primary",onChange:r})}),Object(j.jsxs)("div",{className:"custom-control custom-checkbox mb-3",children:[Object(j.jsx)("input",{id:"customCheck1",type:"checkbox",className:"custom-control-input"}),Object(j.jsx)("label",{htmlFor:"customCheck1",className:"custom-control-label",children:"Recordar contrase\xf1a"})]}),Object(j.jsx)("button",{type:"submit",className:"btn btn-primary btn-block text-uppercase mb-2 rounded-pill shadow-sm",children:"Log In"})]})]})})})})})]})})}),Z=function(){return Object(j.jsx)("div",{className:"container vh-100",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"David, gracias por tu compra"}),Object(j.jsx)("span",{children:"Tu pedido llegara en 3 dias a tu direcci\xf3n"})]})})};var A=function(){var e=Object(s.useContext)(u).userData;return Object(j.jsx)(m,{children:Object(j.jsx)(r.a,{basename:"/",children:Object(j.jsx)(y,{children:Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{exact:!0,path:"/",component:P}),Object(j.jsx)(o.b,{exact:!0,path:"/products/:category",component:T}),Object(j.jsx)(o.b,{exact:!0,path:"/products/:category/:id",component:M}),Object(j.jsx)(o.b,{exact:!0,path:"/login",component:R}),Object(j.jsx)(f,{exact:!0,path:"/cart",component:V,user:e}),Object(j.jsx)(f,{exact:!0,path:"/success",component:Z,user:e}),Object(j.jsx)(o.b,{component:C})]})})})})},B=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,66)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),s(e),n(e),a(e),i(e)}))};c(62),c(61);i.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(O,{children:Object(j.jsx)(A,{})})}),document.getElementById("root")),B()}},[[63,1,2]]]);
//# sourceMappingURL=main.9048b214.chunk.js.map