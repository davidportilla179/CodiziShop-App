{"version":3,"sources":["context/CartContext.js","services/firebase/firebase.js","context/UserContext.js","routes/PrivateRoute.js","components/CartWidget.js","components/NavBar.js","components/Footer.js","components/Layout.js","containers/NotFound.js","components/Item.js","components/Spinner.js","components/ItemList.js","containers/Home.js","containers/ProductsGallery.js","components/ItemDetail.js","containers/Product.js","components/ItemCheckout.js","containers/Checkout.js","containers/Login.js","containers/Register.js","containers/Success.js","containers/Payment.js","routes/App.js","reportWebVitals.js","index.js"],"names":["CartContext","createContext","CartProvider","children","useState","cart","setCart","quantityItems","setQuantityItems","useEffect","items","reduce","acc","item","quantity","Provider","value","addToCart","console","log","itemExists","find","cartItem","id","updateItems","map","product","stock","newItem","updateQuantityItem","cartItemExists","removeFromCart","filter","clearCart","getTotal","price","app","firebase","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","auth","getAuth","UserContext","UserProvider","userData","setUserData","onAuthStateChanged","user","undefined","logIn","email","password","signInWithEmailAndPassword","then","userCredential","catch","error","logOut","signOut","signup","createUserWithEmailAndPassword","PrivateRoute","Component","component","rest","render","props","to","CartWidget","useContext","className","NavBar","history","useHistory","src","alt","width","type","onClick","push","Footer","href","Layout","NotFound","Item","pictureUrl","title","description","category","window","scroll","Spinner","ItemList","setItems","Promise","resolve","reject","getDocs","query","collection","where","querySnapshot","products","docs","doc","data","err","finally","memo","Home","ProductsGallery","useParams","ItemDetail","setItem","initial","setInitial","goCart","setGoCart","getDoc","addItemtoCart","Product","setCartItems","ItemCheckout","Checkout","length","Login","form","setForm","loading","setLoading","handleInput","event","target","name","onSubmit","preventDefault","placeholder","required","autoFocus","onChange","htmlFor","handleSubmit","a","Success","ItemPayment","Payment","buyerInfo","setBuyerInfo","useRef","completeOrder","status","objOrder","buyer","date","Timestamp","fromDate","Date","total","payment","batch","writeBatch","outOfStock","forEach","prod","i","DocumentSnapshot","update","addDoc","commit","ref","e","formData","FormData","current","get","defaultValue","disabled","address","country","state","cp","phone","details","paypalOptions","cliendId","intent","currency","buttonStyles","layout","shape","amount","onSuccess","onError","onCancel","App","basename","exact","path","Register","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8bf57e4d.chunk.js","sourcesContent":["import { useState, useEffect, createContext } from \"react\";\r\n\r\nexport const CartContext = createContext();\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const [cart, setCart] = useState([]);\r\n  const [quantityItems, setQuantityItems] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const items = cart.reduce((acc, item) => {\r\n      return acc + item.quantity;\r\n    }, 0);\r\n    setQuantityItems(items);\r\n  }, [cart]);\r\n\r\n  //Añade un producto al carrito\r\n  const addToCart = (item, quantity) => {\r\n    console.log(quantity);\r\n    const itemExists = cart.find(\r\n      (cartItem) => cartItem.item.id === item.id\r\n    );\r\n    //Si el producto ya existe en el carrito, solo se actualiza la cantidad\r\n    if (itemExists) {\r\n      console.log(\"item already in cart\");\r\n      const updateItems = cart.map(product => product === itemExists ? {quantity: product.quantity += quantity, item: product.item} : product);\r\n      if((itemExists.quantity += quantity) > itemExists.item.stock){\r\n        console.log(`${(itemExists.quantity += quantity)} > ${itemExists.item.stock}`)\r\n        console.log(cart)\r\n        // setCart(cart)\r\n      }\r\n      else {\r\n        console.log(\"yes\")\r\n        setCart(updateItems);\r\n        console.log(cart)\r\n      }\r\n      // setCart(updateItems);\r\n    }else {\r\n      console.log(\"no item already in cart\");\r\n      const newItem = {quantity: quantity, item: item};\r\n      setCart([...cart, newItem]);\r\n    }\r\n\r\n  };\r\n\r\n  const removeFromCart = (item) => {\r\n    setCart(cart.filter((cartItem) => cartItem.item.id !== item.id));\r\n  };\r\n\r\n  const clearCart = () => {\r\n    setCart([]);\r\n  };\r\n\r\n  //Actualiza la cantidad de un producto en el carrito\r\n  const updateQuantityItem = (item, quantity) => {\r\n    const cartItemExists = cart.find(\r\n      (cartItem) => cartItem.item.id === item.id\r\n    );\r\n    //Validar si la cantidad está en el rango del stock del producto\r\n    if(quantity > cartItemExists.item.stock || quantity < 0){\r\n      setCart(cart)\r\n    }\r\n    else {\r\n      const updateItems = cart.map(product => product.item === item ? {quantity: quantity, item: product.item} : product);\r\n      setCart(updateItems);\r\n    }\r\n  };\r\n\r\n  const getTotal = () => {\r\n    return cart.reduce((acc, item) => {\r\n      return acc + item.item.price * item.quantity;\r\n    }, 0);\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider\r\n      value={{\r\n        cart,\r\n        addToCart,\r\n        updateQuantityItem,\r\n        removeFromCart,\r\n        clearCart,\r\n        quantityItems,\r\n        getTotal\r\n      }}\r\n    >\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n","// Import the functions you need from the SDKs you need\r\nimport * as firebase from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { collection, getDocs, query, where } from \"@firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_apiKey,\r\n  authDomain: process.env.REACT_APP_authDomain,\r\n  projectId: process.env.REACT_APP_projectId,\r\n  storageBucket: process.env.REACT_APP_storageBucket,\r\n  messagingSenderId: process.env.REACT_APP_messagingSenderId,\r\n  appId: process.env.REACT_APP_appId\r\n}\r\n\r\n// Initialize Firebase\r\nconst app = firebase.initializeApp(firebaseConfig);\r\nexport const getFirebase = () => app;\r\nexport const db = getFirestore(app);\r\nexport const auth = getAuth();\r\n\r\n// { id: 1, title: \"T-shirt\", category: \"tshirts\", description: \"Its a tshirt\", stock: 10, price: \"$299.00 MXN\", pictureUrl: \"https://shop.codiziapp.com/wp-content/uploads/2021/07/machine_learning_tshirt_2.jpg\" },\r\nexport const getProducts = () => {\r\n  return new Promise((resolve, reject) => {\r\n    getDocs(collection(db,'items'))\r\n        .then((querySnapshot) => {\r\n          const products = querySnapshot.docs.map(doc => {\r\n            return {id: doc.id, ...doc.data()};\r\n          });\r\n          resolve(products);\r\n        })\r\n        .catch(err => reject('Error searching items', err))\r\n        .finally(() => console.log('Finally'));\r\n  });\r\n};\r\n\r\nexport const getProductsbyCategory = (category) => {\r\n  return new Promise((resolve, reject) => {\r\n    getDocs(query(collection(db,'items'), where('category', '==', category)))\r\n        .then((querySnapshot) => {\r\n          const products = querySnapshot.docs.map(doc => {\r\n            return {id: doc.id, ...doc.data()};\r\n          });\r\n          resolve(products);\r\n        })\r\n        .catch(err => reject('Error searching items', err))\r\n        .finally(() => console.log('Finally'));\r\n  });\r\n};\r\n\r\n","import { useState, createContext, useEffect } from \"react\";\r\nimport { auth } from \"../services/firebase/firebase\";\r\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut } from \"firebase/auth\";\r\nexport const UserContext = createContext();\r\n\r\n// const user = [\r\n//   {\r\n//     id: 1,\r\n//     name: \"David\",\r\n//     email: \"email@example.com\",\r\n//     cart: [],\r\n//     address: [],\r\n//     orders: [],\r\n//   },\r\n// ];\r\n\r\nexport const UserProvider = ({ children }) => {\r\n  const [userData, setUserData] = useState();\r\n\r\n  const signup = (email, password) => {\r\n    createUserWithEmailAndPassword(auth, email, password)\r\n      .then((userCredential) => {\r\n        setUserData(userCredential.user);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const logIn = (email, password) => {\r\n    signInWithEmailAndPassword(auth, email, password)\r\n      .then((userCredential) => {\r\n        setUserData(userCredential.user);\r\n        console.log(userCredential);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    //setUserData(userData);\r\n  };\r\n\r\n  useEffect(() => {\r\n    onAuthStateChanged(auth, (user) => {\r\n      if (user) {\r\n        setUserData(user);\r\n      } else {\r\n        setUserData(undefined);\r\n      }\r\n    });\r\n    // return unsubscribe;\r\n  }, []);\r\n\r\n  const logOut = () => {\r\n    signOut(auth).then(() => {\r\n      setUserData(undefined);\r\n    }).catch((error) => {\r\n      console.log(error);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <UserContext.Provider\r\n      value={{\r\n        userData,\r\n        logIn,\r\n        logOut,\r\n        signup,\r\n      }}\r\n    >\r\n      {children}\r\n    </UserContext.Provider>\r\n  )\r\n}\r\n\r\n","import { Route, Redirect } from 'react-router-dom';\r\n\r\nconst PrivateRoute = ({component: Component, user, ...rest}) => {\r\n  return (\r\n      <Route {...rest} render={props => (\r\n          user ?\r\n            <Component {...props} />\r\n          : <Redirect to=\"/\" />\r\n      )} />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute\r\n","import { useContext } from 'react';\r\nimport { CartContext } from '../context/CartContext';\r\n\r\nconst CartWidget = () => {\r\n  const { quantityItems } = useContext(CartContext);\r\n  return (\r\n    <>\r\n      <i className=\"fas fa-shopping-cart fa-lg\"></i>\r\n      <span className=\"mx-3\">{quantityItems} productos</span>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CartWidget;\r\n","import { useContext } from \"react\";\r\nimport { NavLink, Link, useHistory } from 'react-router-dom';\r\nimport { UserContext } from '../context/UserContext';\r\n\r\nimport CartWidget from './CartWidget';\r\n\r\nconst NavBar = () => {\r\n  const { userData, logOut } = useContext(UserContext);\r\n  let history = useHistory();\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n      <div className=\"container-fluid\">\r\n        <NavLink to=\"/\" className=\"navbar-brand\">\r\n          <img src=\"https://shop.codiziapp.com/wp-content/uploads/2021/07/codizilogolarge.png\" alt=\"\" width=\"150\" className=\"img-fluid\" />\r\n        </NavLink>\r\n        <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n          <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n            <li className=\"nav-item\">\r\n              <NavLink to=\"/products/tshirts\" className=\"nav-link\" aria-current=\"page\">Playeras</NavLink>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <NavLink to=\"/products/hoddies\" className=\"nav-link\">Hoddies</NavLink>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <NavLink to=\"/products/stickers\" className=\"nav-link\">Stickers</NavLink>\r\n            </li>\r\n          </ul>\r\n          <div className=\"d-flex align-items-center\">\r\n            {\r\n              userData\r\n              ? <>\r\n                  <Link to='/cart'><CartWidget/></Link>\r\n                  <i className=\"far fa-user-circle fa-2x\"></i>\r\n                  <p className=\"m-3\">{ userData.email }</p>\r\n                  <button className=\"btn btn-success\" type=\"button\" onClick={() =>{logOut(); history.push(\"/\");}}>Log Out</button>\r\n                </>\r\n              : <>\r\n                  <Link to='/login'><button className=\"btn btn-outline-success\" type=\"submit\">Log In</button></Link>\r\n                  <Link to='/register'><button className=\"btn btn-success\" type=\"submit\">Register</button></Link>\r\n                </>\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default NavBar;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"row bg-dark text-white py-4\">\r\n        <section className=\"col-md-4 text-center\">\r\n          <img src=\"https://shop.codiziapp.com/wp-content/uploads/2021/07/logocodizi_v2.png\" className=\"img-fluid mb-3\" alt=\"marca personal\" width=\"150\"/>\r\n          <p>Con <span className=\"text-danger\">❤</span> desde México</p>\r\n        </section>\r\n        <section className=\"col-md-4\">\r\n          <h3>Más de CODIZI Shop</h3>\r\n          <p><Link to=\"/contact\">Contacto</Link></p>\r\n          <p><Link to=\"/measurements\">Medidas de tallas</Link></p>\r\n          <p><Link to=\"/termsandconditions\">Términos y Condiciones</Link></p>\r\n          <p><Link to=\"/changes\">Devoluciones o cambios</Link></p>\r\n          <p><Link to=\"/privacity\">Política de privacidad</Link></p>\r\n          <p><Link to=\"/faq\">Preguntas frecuentes</Link></p>\r\n        </section>\r\n        <section className=\"col-md-4\">\r\n          <h3>Conoce CODIZI</h3>\r\n          <p><a href=\"https://codiziapp.com/aboutus\">Acerca de nosotros</a></p>\r\n          <p><Link to=\"/measurements\">Medidas de tallas</Link></p>\r\n          <p><Link to=\"/termsandconditions\">Términos y Condiciones</Link></p>\r\n          <p><Link to=\"/changes\">Devoluciones o cambios</Link></p>\r\n          <p><Link to=\"/privacity\">Política de privacidad</Link></p>\r\n          <p><Link to=\"/faq\">Preguntas frecuentes</Link></p>\r\n        </section>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import NavBar from './NavBar';\r\nimport Footer from './Footer';\r\n\r\nconst Layout = ({ children }) => {\r\n  return (\r\n    <>\r\n      <NavBar />\r\n      { children }\r\n      <Footer />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Layout\r\n","\r\nconst NotFound = () => {\r\n  return (\r\n    <div>\r\n      <h1>Not Found 404</h1>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NotFound\r\n","import { Link } from \"react-router-dom\";\r\n\r\nconst Item = ({ item }) => {\r\n  return (\r\n    <>\r\n      <div className=\"col-md-4\">\r\n        <div className=\"card mb-4 shadow-sm\">\r\n          <img\r\n            src={item.pictureUrl}\r\n            className=\"card-img-top\"\r\n            alt=\"...\"\r\n          />\r\n          <div className=\"card-body\">\r\n            <h5 className=\"card-title\">{item.title}</h5>\r\n            <p className=\"card-text\">{item.description}</p>\r\n            <p className=\"card-text\">{item.price}</p>\r\n            <div className=\"d-flex justify-content-between align-items-center\">\r\n              <Link to={`/products/${item.category}/${item.id}`} >\r\n                <button type=\"button\" className=\"btn btn btn-outline-success\" onClick={() => window.scroll(0,-100)}>\r\n                  Ver producto\r\n                </button>\r\n              </Link>\r\n              <small className=\"text-muted\">Stock: {item.stock} left</small>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Item;\r\n","import '../assets/css/spinner.css';\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"container-spinner\">\r\n      <div className=\"center\">\r\n        <div className=\"wave\"></div>\r\n        <div className=\"wave\"></div>\r\n        <div className=\"wave\"></div>\r\n        <div className=\"wave\"></div>\r\n        <div className=\"wave\"></div>\r\n        <div className=\"wave\"></div>\r\n        <div className=\"wave\"></div>\r\n        <div className=\"wave\"></div>\r\n        <div className=\"wave\"></div>\r\n        <div className=\"wave\"></div>\r\n      </div>\r\n      <p>Loading ... </p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Spinner\r\n","import { useEffect, useState, memo } from \"react\";\r\nimport Item from './Item';\r\nimport Spinner from \"./Spinner\";\r\n\r\nimport { getProducts, getProductsbyCategory } from '../services/firebase/firebase';\r\n\r\nconst ItemList = ({ filter }) => {\r\n  const [items, setItems] = useState(undefined);\r\n\r\n  useEffect(() => {\r\n    if(!filter) {\r\n      getProducts()\r\n        .then(items => {\r\n          setItems(items);\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    } else {\r\n      getProductsbyCategory(filter)\r\n        .then(items => {\r\n          setItems(items);\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    }\r\n      return () => {\r\n        setItems(undefined);\r\n      }\r\n  }, [filter]);\r\n\r\n  if(items === undefined) {\r\n    return <Spinner />\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"row mt-4\">\r\n        {items.map((item) => <Item key={item.id} item={item} />)}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default memo(ItemList);\r\n","import ItemList from '../components/ItemList';\r\n\r\nconst Home = () => {\r\n  console.log(process.env.REACT_APP_cliendIdPaypal)\r\n  return (\r\n    <div>\r\n      <img src=\"https://shop.codiziapp.com/wp-content/uploads/2021/09/COVER-CODIZISHOP.jpg\" className=\"img-fluid\" alt=\"cover-codizishop\" />\r\n      <div className=\"container mt-5\">\r\n        <h1 className=\"text-center\">LO MÁS VENDIDO</h1>\r\n        <ItemList />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home;\r\n","import { useParams } from 'react-router-dom';\r\nimport ItemList from '../components/ItemList';\r\n\r\nfunction ProductsGallery() {\r\n  let { category } = useParams();\r\n\r\n  return (\r\n    <div className=\"container text-center\">\r\n      <h2>{ category }</h2>\r\n      <ItemList filter={category} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProductsGallery;\r\n","import { useEffect, useState, useContext } from \"react\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { CartContext } from '../context/CartContext';\r\n\r\nimport { db } from '../services/firebase/firebase';\r\nimport { doc, getDoc } from \"@firebase/firestore\";\r\n\r\nimport Spinner from \"./Spinner\";\r\n\r\nconst ItemDetail = ({ id }) => {\r\n  const { addToCart } = useContext(CartContext);\r\n  const [item, setItem] = useState();\r\n  const [initial, setInitial] = useState(0);\r\n  const [goCart, setGoCart] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getDoc(doc(db, 'items', id))\r\n      .then((querySnapshot) => {\r\n        console.log({ id: querySnapshot.id, ...querySnapshot.data() });\r\n        const product = { id: querySnapshot.id, ...querySnapshot.data() };\r\n        setItem(product);\r\n      })\r\n      .catch(err => console.log('Error searching items', err))\r\n      .finally(() => console.log('Finally'));\r\n      return () => {\r\n        setItem(undefined);\r\n      }\r\n  }, [id]);\r\n\r\n  if(item === undefined) {\r\n    return <Spinner />\r\n  }\r\n\r\n  const reduceInitial = () => {\r\n    if (initial === 0) return;\r\n    setInitial(initial - 1);\r\n  };\r\n\r\n  const addInitial = (stock) => {\r\n    if (initial === stock) return;\r\n    setInitial(initial + 1);\r\n  };\r\n\r\n  const addItemtoCart = (item, initial) => {\r\n    addToCart(item, initial);\r\n    setInitial(0);\r\n    setGoCart(true);\r\n  };\r\n\r\n  return (\r\n    <div className=\"card mb-4 shadow-sm\">\r\n      <div className=\"row g-0 align-items-center\">\r\n        <div className=\"col-md-4\">\r\n          <img\r\n            src={item.pictureUrl}\r\n            className=\"img-fluid rounded-start\"\r\n            alt=\"...\"\r\n          />\r\n        </div>\r\n        <div className=\"col-md-8 px-4\">\r\n          <div className=\"card-body\">\r\n            <div className=\"row my-3\">\r\n              <div className=\"col-md-6\">\r\n                <h2 className=\"card-title\">{item.title}</h2>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <p className=\"h2 card-text\">$ {item.price}.00 MXN</p>\r\n              </div>\r\n            </div>\r\n            <p className=\"card-text mb-3\">{item.description}</p>\r\n            <div className=\"d-flex my-5\">\r\n              <button className={item.stock ? \"btn btn-danger\" : \"btn btn-secondary\"} onClick={reduceInitial}>-</button>\r\n              <p className=\"mx-5\"> {initial} </p>\r\n              <button className={item.stock ? \"btn btn-success\" : \"btn btn-secondary\"} onClick={() => addInitial(item.stock)}>+</button>\r\n            </div>\r\n            <div className=\"d-flex\">\r\n              <button className={`btn btn-outline-primary mt-3 ${item.stock ? 'enabled' : 'disabled'}`} onClick={() => {addItemtoCart(item, initial)}}>Añadir al carrito</button>\r\n              <Link to=\"/cart\">\r\n                <button className={`btn btn-info mt-3 mx-3 ${goCart ? 'd-block' : 'd-none'}`} >Ver tu carrito</button>\r\n              </Link>\r\n            </div>\r\n            <p className=\"text-muted text-center border border-secondary mt-5\">Stock: {item.stock} left</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ItemDetail\r\n","import { useParams } from 'react-router-dom';\r\nimport ItemDetail from '../components/ItemDetail'\r\nimport ItemList from '../components/ItemList';\r\n\r\nconst Product = ({ setCartItems }) => {\r\n  const { id, category } = useParams();\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <ItemDetail id={id} setCartItems={setCartItems} />\r\n      <h2 className=\"text-center mt-5\">Ver más {category}</h2>\r\n      <ItemList filter={category} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Product\r\n","const ItemCheckout = ( { quantity, item, removeFromCart, updateQuantityItem } ) => {\r\n  return (\r\n    <div className=\"card mb-4 shadow-sm\">\r\n      <div className=\"row align-items-center\">\r\n        <div className=\"col-md-2\">\r\n          <img\r\n            src={item.pictureUrl}\r\n            className=\"card-img-top\"\r\n            alt=\"...\"\r\n          />\r\n        </div>\r\n        <div className=\"col-md-4\">\r\n          <div className=\"card-body\">\r\n            <h5 className=\"card-title\">{item.title}</h5>\r\n            <p className=\"card-text\">{item.description}</p>\r\n            <p className=\"card-text\">{item.price}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-md-4\">\r\n          <div className=\"d-flex mb-3\">\r\n            <button className={item.stock ? \"btn btn-danger\" : \"btn btn-secondary\"} onClick={() => updateQuantityItem(item, quantity-1)}>-</button>\r\n            <p className=\"mx-5\"> { quantity } </p>\r\n            <button className={item.stock ? \"btn btn-success\" : \"btn btn-secondary\"} onClick={() => updateQuantityItem(item, quantity+1)}>+</button>\r\n          </div>\r\n          <small className=\"text-muted\">Stock: {item.stock} left</small>\r\n        </div>\r\n        <div className=\"col-md-2\">\r\n        <button className=\"btn btn-danger\" onClick={()=>removeFromCart(item)}><i className=\"far fa-trash-alt\"></i></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ItemCheckout;\r\n","import { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { CartContext } from '../context/CartContext';\r\n\r\nimport ItemCheckout from '../components/ItemCheckout';\r\nimport ItemList from '../components/ItemList';\r\n\r\nconst Checkout = () => {\r\n  const { cart, removeFromCart, clearCart, updateQuantityItem, getTotal } = useContext(CartContext);\r\n  console.log(cart);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>Carrito</h1>\r\n      <div className=\"shadow-sm my-4\">\r\n        {\r\n          cart.length === 0\r\n            ? <h3 className=\"my-5 py-5 center\">No hay productos en el carrito</h3>\r\n            : cart.map((product) => <ItemCheckout key={product.item.id} item={product.item} removeFromCart={removeFromCart} updateQuantityItem={updateQuantityItem} quantity={product.quantity}/>)\r\n        }\r\n      </div>\r\n      <div className=\"my-4 d-flex justify-content-between\">\r\n        <button className=\"btn btn-info\" type=\"button\" onClick={() => clearCart()} >Limpiar carrito</button>\r\n        <h4>Total = $ { getTotal() } MXN</h4>\r\n      </div>\r\n      <div className=\"d-flex justify-content-end \">\r\n        <Link to='/payment'><button className=\"btn btn-success\" type=\"button\" >Completar la orden </button></Link>\r\n      </div>\r\n\r\n      <h2>Productos que te pueden interesar</h2>\r\n      <div className=\"row justify-content-center\">\r\n        <div className=\"col-md-10\">\r\n          <ItemList />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Checkout\r\n","import { useState, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { UserContext } from '../context/UserContext';\r\n\r\nimport '../assets/css/login.css';\r\n\r\nconst Login = () => {\r\n  const { logIn } = useContext(UserContext);\r\n  let history = useHistory();\r\n  \r\n  const [form, setForm] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n  \r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleInput = event => {\r\n    setForm({ ...form, [event.target.name]: event.target.value });\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      setLoading(true);\r\n      logIn(form.email, form.password);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setLoading(false);\r\n    history.push(\"/\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 d-none d-md-flex bg-image\"></div>\r\n          <div className=\"col-md-6 bg-light\">\r\n            <div className=\"login d-flex align-items-center py-5\">\r\n            <div className=\"container\">\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-10 col-xl-7 mx-auto\">\r\n                  <h3 className=\"display-4\">Hola de nuevo!</h3>\r\n                  <p className=\"text-muted mb-4\">Explora y comparte lugares extraordinarios.</p>\r\n                    <form onSubmit={handleSubmit}>\r\n                      <div className=\"form-group mb-3\">\r\n                        <input\r\n                          id=\"inputEmail\"\r\n                          name=\"email\"\r\n                          type=\"email\"\r\n                          placeholder=\"Email address\"\r\n                          required\r\n                          autoFocus=\"\"\r\n                          className=\"form-control rounded-pill border-0 shadow-sm px-4\"\r\n                          onChange={handleInput}\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group mb-3\">\r\n                        <input\r\n                          id=\"inputPassword\"\r\n                          name=\"password\"\r\n                          type=\"password\"\r\n                          placeholder=\"Password\"\r\n                          required\r\n                          className=\"form-control rounded-pill border-0 shadow-sm px-4 text-primary\"\r\n                          onChange={handleInput}\r\n                        />\r\n                      </div>\r\n                      <div className=\"custom-control custom-checkbox mb-3\">\r\n                        <input id=\"customCheck1\" type=\"checkbox\" className=\"custom-control-input\" />\r\n                        <label htmlFor=\"customCheck1\" className=\"custom-control-label\">Recordar contraseña</label>\r\n                      </div>\r\n                      <button \r\n                        type=\"submit\" \r\n                        className={`btn btn-primary btn-block text-uppercase mb-2 rounded-pill shadow-sm ${loading ? \"disable\": \"\"}`}>\r\n                          Log In\r\n                      </button>\r\n                    </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;","import { useState, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { UserContext } from '../context/UserContext';\r\n\r\nimport '../assets/css/register.css';\r\n\r\nconst Login = () => {\r\n  const { signup } = useContext(UserContext);\r\n  let history = useHistory();\r\n\r\n  const [form, setForm] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleInput = event => {\r\n    setForm({ ...form, [event.target.name]: event.target.value });\r\n  }\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      setLoading(true);\r\n      signup(form.email, form.password);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setLoading(false);\r\n    history.push(\"/\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 d-none d-md-flex bg-image\"></div>\r\n          <div className=\"col-md-6 bg-light\">\r\n            <div className=\"login d-flex align-items-center py-5\">\r\n            <div className=\"container\">\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-10 col-xl-7 mx-auto\">\r\n                  <h3 className=\"display-4\">Bienvenido!</h3>\r\n                  <p className=\"text-muted mb-4\">Explora y comparte lugares extraordinarios.</p>\r\n                    <form onSubmit={handleSubmit}>\r\n                      <div className=\"form-group mb-3\">\r\n                        <input\r\n                          id=\"inputEmail\"\r\n                          name=\"email\"\r\n                          type=\"email\"\r\n                          placeholder=\"Email address\"\r\n                          required\r\n                          autoFocus=\"\"\r\n                          className=\"form-control rounded-pill border-0 shadow-sm px-4\"\r\n                          onChange={handleInput}\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group mb-3\">\r\n                        <input\r\n                          id=\"inputPassword\"\r\n                          name=\"password\"\r\n                          type=\"password\"\r\n                          placeholder=\"Password\"\r\n                          required\r\n                          className=\"form-control rounded-pill border-0 shadow-sm px-4 text-primary\"\r\n                          onChange={handleInput}\r\n                        />\r\n                      </div>\r\n                      <div className=\"custom-control custom-checkbox mb-3\">\r\n                        <input id=\"customCheck1\" type=\"checkbox\" className=\"custom-control-input\" />\r\n                        <label htmlFor=\"customCheck1\" className=\"custom-control-label\">Recordar contraseña</label>\r\n                      </div>\r\n                      <button \r\n                        type=\"submit\" \r\n                        className={`btn btn-primary btn-block text-uppercase mb-2 rounded-pill shadow-sm ${loading ? \"disable\": \"\"}`}>\r\n                          Sign up\r\n                      </button>\r\n                    </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;","import { Link } from 'react-router-dom';\r\n\r\nconst Success = () => {\r\n  return (\r\n    <div className=\"container vh-100\">\r\n      <div className=\"text-center mt-5\">\r\n        <h2>Gracias por tu compra :D</h2>\r\n        <p className=\"my-5\">Tu pedido llegara en 3 dias a tu dirección ✅</p>\r\n        <Link to=\"/\">\r\n          <button className=\"btn btn-dark\" type=\"button\" > Regresar a la tienda </button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Success\r\n","import { useState, useRef, useContext } from 'react';\r\nimport { useHistory, Link } from 'react-router-dom';\r\n\r\nimport { CartContext } from '../context/CartContext';\r\n\r\nimport { PayPalButton } from 'react-paypal-button-v2';\r\nimport {\r\n  collection, addDoc, getDoc, doc ,\r\n  Timestamp, writeBatch\r\n} from 'firebase/firestore'\r\nimport { db } from '../services/firebase/firebase';\r\n\r\nconst ItemPayment = ({ item, quantity }) => {\r\n  return (\r\n    <div className=\"card shadow-sm\">\r\n      <div className=\"row align-items-center\">\r\n        <div className=\"col-md-3\">\r\n          <img\r\n            src={item.pictureUrl}\r\n            className=\"card-img-top\"\r\n            alt=\"...\"\r\n          />\r\n        </div>\r\n        <div className=\"col-md-6\">\r\n          <div className=\"card-body\">\r\n            <h5 className=\"card-title\">{item.title}</h5>\r\n            <p className=\"card-text\">$ {item.price}.00 MXN</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-md-3\">\r\n          <p>Cantidad: {quantity} </p>\r\n          <p>$ {quantity * item.price}.00 MXN </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nconst Payment = () => {\r\n  const [buyerInfo, setBuyerInfo] = useState(undefined);\r\n  const form = useRef(null);\r\n  const { cart, getTotal, clearCart } = useContext(CartContext);\r\n  const history = useHistory();\r\n\r\n  const paypalOptions = {\r\n    cliendId: process.env.REACT_APP_cliendIdPaypal,\r\n    intent: 'capture',\r\n    currency: 'MXN',\r\n  };\r\n\r\n  const buttonStyles = {\r\n    layout: 'vertical',\r\n    shape: 'rect',\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (buyerInfo) {\r\n      setBuyerInfo(undefined);\r\n    }else{\r\n      const formData = new FormData(form.current);\r\n      const buyer = {\r\n        'name': formData.get('name'),\r\n        'email': formData.get('email'),\r\n        'address': formData.get('address'),\r\n        'city': formData.get('city'),\r\n        'country': formData.get('country'),\r\n        'state': formData.get('state'),\r\n        'cp': formData.get('cp'),\r\n        'phone': formData.get('phone'),\r\n      }\r\n      setBuyerInfo(buyer);\r\n    }\r\n  }\r\n\r\n  const completeOrder = (data) => {\r\n    if(data.status === 'COMPLETED'){\r\n      const objOrder = {\r\n        buyer: buyerInfo,\r\n        items: cart,\r\n        date: Timestamp.fromDate(new Date()),\r\n        total: getTotal(),\r\n        payment: data\r\n      }\r\n\r\n      const batch = writeBatch(db)\r\n      const outOfStock = []\r\n\r\n      objOrder.items.forEach((prod, i) => {\r\n        getDoc(doc(db, 'items', prod.item.id)).then(DocumentSnapshot => {\r\n            if(DocumentSnapshot.data().stock >= objOrder.items[i].quantity) {\r\n                batch.update(doc(db, 'items', DocumentSnapshot.id), {\r\n                    stock: DocumentSnapshot.data().stock - objOrder.items[i].quantity\r\n                })\r\n            } else {\r\n                outOfStock.push({...DocumentSnapshot.data(), id: DocumentSnapshot.id})\r\n            }\r\n        })\r\n      })\r\n\r\n      if(outOfStock.length === 0) {\r\n        addDoc(collection(db, 'orders'), objOrder).then(() => {\r\n          batch.commit().then(() => {\r\n            console.log('success', 'La orden se ejecuto con exito');\r\n            history.push(\"/success\");\r\n          })\r\n        }).catch((error) => {\r\n          console.log(error,'Error al ejecutar la orden')\r\n        }).finally(() => {\r\n            clearCart()\r\n        })\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container my-4\">\r\n      <div className=\"row mt-4\">\r\n        <div className=\"col-md-7\">\r\n          <h3 className=\"mb-4\">Llena tu información:</h3>\r\n          <form ref={form} onSubmit={handleSubmit}>\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"name\" className=\"form-label\">Nombre Completo</label>\r\n              <input type=\"text\" className=\"form-control\" placeholder=\"Nombre Completo\" name=\"name\" id=\"name\" defaultValue={buyerInfo?.name} required disabled={buyerInfo?.name ? true : false} />\r\n            </div>\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"email\" className=\"form-label\">Correo Electronico</label>\r\n              <input type=\"text\" className=\"form-control\" placeholder=\"Correo Electronico\" name=\"email\" id=\"email\" defaultValue={buyerInfo?.email} required disabled={buyerInfo?.email ? true : false}/>\r\n            </div>\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"address\" className=\"form-label\">Dirección</label>\r\n              <input type=\"text\" className=\"form-control\" placeholder=\"Dirección\" name=\"address\" id=\"address\" defaultValue={buyerInfo?.address} required disabled={buyerInfo?.address ? true : false}  />\r\n            </div>\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"country\" className=\"form-label\">Pais</label>\r\n              <input type=\"text\" className=\"form-control\" placeholder=\"Pais\" name=\"country\" id=\"country\" defaultValue={buyerInfo?.country} required disabled={buyerInfo?.country ? true : false} />\r\n            </div>\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"state\" className=\"form-label\">Estado</label>\r\n              <input type=\"text\" className=\"form-control\" placeholder=\"Estado\" name=\"state\" id=\"state\" defaultValue={buyerInfo?.state} required disabled={buyerInfo?.state ? true : false} />\r\n            </div>\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"cp\" className=\"form-label\">Codigo Postal</label>\r\n              <input type=\"number\" className=\"form-control\" placeholder=\"Codigo Postal\" name=\"cp\" id=\"cp\" defaultValue={buyerInfo?.cp} required disabled={buyerInfo?.cp ? true : false} />\r\n            </div>\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"phone\" className=\"form-label\">Telefono</label>\r\n              <input type=\"number\" className=\"form-control\" placeholder=\"Telefono\" name=\"phone\" id=\"phone\" defaultValue={buyerInfo?.phone} required disabled={buyerInfo?.phone ? true : false} />\r\n            </div>\r\n            <button className=\"btn btn-dark\" type=\"submit\" >{buyerInfo ? \"Actualizar información\": \"Confirmar información\"} </button>\r\n          </form>\r\n        </div>\r\n        <div className=\"col-md-5\">\r\n          <h3 className=\"mb-4\">Pedido:</h3>\r\n          <div className=\"shadow-sm my-4\">\r\n            {\r\n              cart.map((product) => <ItemPayment key={product.item.id} item={product.item} quantity={product.quantity}/>)\r\n            }\r\n          </div>\r\n          <div className=\"my-4 d-flex justify-content-between\">\r\n            <Link to=\"/cart\">\r\n              <button className=\"btn btn-dark\" type=\"button\" > Regresar al checkout </button>\r\n            </Link>\r\n            <h4>Total = $ { getTotal() } MXN</h4>\r\n          </div>\r\n\r\n          {\r\n            buyerInfo &&\r\n              (\r\n                <>\r\n                  <h3 className=\"mb-4\">Método de pago:</h3>\r\n                  <div className=\"d-grid mb-4\">\r\n                    <button className=\"btn btn-success pt-2\" type=\"submit\" onClick={()=>completeOrder({details:\"Pagar al Recibir\", status: \"COMPLETED\"})} > <p className=\"h5\">Pagar al recibir</p> </button>\r\n                  </div>\r\n                  <PayPalButton\r\n                    paypalOptions={paypalOptions}\r\n                    buttonStyles={buttonStyles}\r\n                    amount={getTotal()}\r\n                    onSuccess={data => completeOrder(data)}\r\n                    onError={error => console.log(error)}\r\n                    onCancel={data => console.log(data)}\r\n                  />\r\n                </>\r\n              )\r\n          }\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Payment;\r\n","import { useContext } from \"react\";\nimport { HashRouter, Switch, Route } from 'react-router-dom';\n\nimport { CartProvider } from '../context/CartContext';\nimport { UserContext } from '../context/UserContext';\nimport PrivateRoute from './PrivateRoute';\n\nimport Layout from '../components/Layout';\nimport NotFound from '../containers/NotFound';\nimport Home from '../containers/Home';\nimport ProductsGallery from '../containers/ProductsGallery';\nimport Product from '../containers/Product';\nimport Checkout from '../containers/Checkout';\nimport Login from '../containers/Login';\nimport Register from '../containers/Register';\nimport Success from '../containers/Success';\nimport Payment from '../containers/Payment';\n\nfunction App() {\n  const { userData } = useContext(UserContext);\n  return (\n    <CartProvider>\n      <HashRouter basename='/'>\n        <Layout>\n          <Switch>\n            <Route exact path='/' component={Home} />\n            <Route exact path='/products/:category' component={ProductsGallery} />\n            <Route exact path='/products/:category/:id' component={Product} />\n            <Route exact path='/login' component={Login} />\n            <Route exact path='/register' component={Register} />\n            <PrivateRoute exact path=\"/cart\" component={Checkout} user={userData} />\n            <PrivateRoute exact path=\"/payment\" component={Payment} user={userData} />\n            <PrivateRoute exact path=\"/success\" component={Success} user={userData} />\n            <Route component={NotFound} />\n          </Switch>\n        </Layout>\n      </HashRouter>\n    </CartProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './routes/App';\nimport reportWebVitals from './reportWebVitals';\nimport { UserProvider } from './context/UserContext';\n\nimport 'bootstrap';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <UserProvider>\n      <App />\n    </UserProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}